<body>
    <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

        const { useRef, useEffect, useState } = React;

        const MyComponent = () => {
            const inputRef = useRef(null);
            const [count, setCount] = useState(0);
            const previousCountRef = useRef(0); // Используем useRef для хранения предыдущего значения

            useEffect(() => {
                inputRef.current.focus(); // Получаем доступ к DOM-элементу
                previousCountRef.current = count; // Сохраняем предыдущее значение count
            }, [count]); // Зависимость от count

            return (
                <div>
                    <input ref={inputRef} />
                    <button onClick={() => setCount(count + 1)}>Увеличить счетчик</button>
                    <p>Текущий счетчик: {count}</p>
                    <p>Предыдущее значение счетчика: {previousCountRef.current}</p>
                </div>
            );
        };

        const rootElement = document.createElement('div');
        rootElement.id = 'root';
        document.body.appendChild(rootElement);

        const root = ReactDOM.createRoot(rootElement);
        root.render(<MyComponent />);

    </script>
</body>
